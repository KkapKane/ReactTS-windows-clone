import { useState, useEffect } from "react";
import axios from "axios";
import moment from "moment";

type colorCombo = {
    backgroundColor: string;
    color: string;
}

export default function News() {

    const [loading, setLoading] = useState(false);
    const [news, setNews] = useState<any[] | undefined>();

    function getNews() {
        const articles = [{ "source": { "id": null, "name": "BBC News" }, "author": "https://www.facebook.com/bbcnews", "title": "Czechs vote in second round of presidential election - BBC", "description": "Former PM Andrej Babis and retired Nato general Petr Pavel are vying for the ceremonial but influential post.", "url": "https://www.bbc.com/news/world-europe-64421310", "urlToImage": "https://ichef.bbci.co.uk/news/1024/branded_news/D22B/production/_128430835_ca7f97aac5a4ed04a4e3c303d31feeb5c4527af2350_1302_3465_19491000x563.jpg", "publishedAt": "2023-01-28T05:23:48Z", "content": "Czech voters have been going to the polls to elect a successor to President Milos Zeman, whose second term ends in March.\r\nThe second-round runoff between former Prime Minister Andrej Babis and retir… [+2199 chars]" }, { "source": { "id": null, "name": "Daily Mail" }, "author": "Carly Johnson", "title": "Kanye West is 'suspect in battery investigation' after he allegedly threw woman's cellphone - Daily Mail", "description": "Kanye West has reportedly been named a suspect in a battery investigation after the rapper allegedly snatched a cellphone belonging to a woman and threw it.", "url": "https://www.dailymail.co.uk/tvshowbiz/article-11686339/Kanye-West-suspect-battery-investigation-allegedly-threw-womans-cellphone.html", "urlToImage": "https://i.dailymail.co.uk/1s/2023/01/28/06/67065231-0-image-a-109_1674886156092.jpg", "publishedAt": "2023-01-28T05:00:59Z", "content": "Kanye West has reportedly been named a suspect in a battery investigation after the rapper allegedly snatched a cellphone belonging to a woman and threw it.\r\nAccording to a social media video, West, … [+4831 chars]" }, { "source": { "id": null, "name": "YouTube" }, "author": null, "title": "Biden Pledges American Battalion Tank Abrams For Ukraine I US Tank Boost For Zelenskyy's Forces - CNN-News18", "description": "Biden Pledges American Battalion Tank Abrams For Ukraine I US Tank Boost For Zelenskyy's ForcesPresident Joe Biden will deliver remarks Wednesday on “continu...", "url": "https://www.youtube.com/watch?v=_BNuHzz3nr4", "urlToImage": "https://i.ytimg.com/vi/_BNuHzz3nr4/maxresdefault_live.jpg", "publishedAt": "2023-01-28T02:59:45Z", "content": null }, { "source": { "id": "cbs-news", "name": "CBS News" }, "author": null, "title": "Video of Paul Pelosi attack released, showing suspect swinging a hammer at him - CBS News", "description": "News organizations petitioned for the release of the material, which had been played in open court during a preliminary hearing.", "url": "https://www.cbsnews.com/news/paul-pelosi-attack-video-released-david-depape-suspect-charged/", "urlToImage": "https://assets3.cbsnewsstatic.com/hub/i/r/2023/01/27/786f2632-4ea9-4686-b5cb-2534114d713d/thumbnail/1200x630/260cf38c0d15b35efaf62931eece928a/capture.jpg", "publishedAt": "2023-01-28T02:05:00Z", "content": "Video and audio of the violent October attack on Paul Pelosi, the husband of then-House Speaker Nancy Pelosi, was released to the public Friday.\r\nIt was released after San Francisco Superior Court Ju… [+3809 chars]" }, { "source": { "id": null, "name": "BBC News" }, "author": "https://www.facebook.com/bbcnews", "title": "Jerusalem synagogue attack: Seven killed in shooting - BBC", "description": "The victims are shot dead in a suspected militant attack at a synagogue in East Jerusalem.", "url": "https://www.bbc.com/news/world-middle-east-64430491", "urlToImage": "https://ichef.bbci.co.uk/news/1024/branded_news/A626/production/_128443524_gettyimages-1246597112.jpg", "publishedAt": "2023-01-28T01:40:21Z", "content": "Seven people have been shot dead at a synagogue in East Jerusalem, the most killed in an attack of this kind for years. At least three more people were injured. \r\nThe incident happened in the city's … [+4084 chars]" }, { "source": { "id": "cnn", "name": "CNN" }, "author": "Elizabeth Hartfield, Jason Hanna, Jay Croft", "title": "Memphis releases video showing police stop that led to Tyre Nichols' death - CNN", "description": "The city of Memphis has released police body camera and surveillance video showing the traffic stop and violent police confrontation that led to the death of Tyre Nichols.", "url": "https://www.cnn.com/2023/01/27/us/tyre-nichols-memphis-friday/index.html", "urlToImage": "https://media.cnn.com/api/v1/images/stellar/prod/230127200533-01-nichols-video-screengrab.jpg?c=16x9&q=w_800,c_fill", "publishedAt": "2023-01-28T01:23:00Z", "content": "Editors Note: This article contains graphic descriptions of violence.\r\nTyre Nichols screamed for his mother and Memphis police officers struck him multiple times including in the face while his hands… [+10438 chars]" }, { "source": { "id": "the-washington-post", "name": "The Washington Post" }, "author": "Isaac Stanley-Becker, Jonathan O'Connell, Emma Brown", "title": "Justice Department asks FEC to stand down as prosecutors probe Santos - The Washington Post", "description": "The request is the clearest sign to date of an active criminal investigation examining the congressman’s campaign finances.", "url": "https://www.washingtonpost.com/investigations/2023/01/27/santos-doj-investigation-fec/", "urlToImage": "https://www.washingtonpost.com/wp-apps/imrs.php?src=https://arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/HZAH2WJHFK2CNBX7HE2RO4LZMM.jpg&w=1440", "publishedAt": "2023-01-28T00:52:51Z", "content": "Comment on this story\r\nThe Justice Department has asked the Federal Election Commission to hold off on any enforcement action against George Santos, the Republican congressman from New York who lied … [+5563 chars]" }, { "source": { "id": "reuters", "name": "Reuters" }, "author": null, "title": "Film academy reviewing Oscar campaigns after surprise nomination - Reuters", "description": "Hollywood's film academy said on Friday it was reviewing this year's campaigns for Oscar nominations, a day after a media report raised questions about the surprise nod for British actress Andrea Riseborough.", "url": "https://www.reuters.com/lifestyle/film-academy-reviewing-oscar-campaigns-after-surprise-nomination-2023-01-28/", "urlToImage": "https://www.reuters.com/resizer/Ck4duy8yuukMdJs6SFIZVLCQuQs=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/AT3L7G2GKZIN5O2ML5LI6RFLTQ.jpg", "publishedAt": "2023-01-28T00:34:00Z", "content": "LOS ANGELES, Jan 27 (Reuters) - Hollywood's film academy said on Friday it was reviewing this year's campaigns for Oscar nominations, a day after a media report raised questions about the surprise no… [+1951 chars]" }, { "source": { "id": "cnn", "name": "CNN" }, "author": null, "title": "Jan. 6 rioter who assaulted Capitol Police Officer Brian Sicknick sentenced to over 6 years in jail - CNN", "description": "A man who assaulted United States Capitol Police officer Brian Sicknick with pepper spray on January 6, 2021, was sentenced on Friday to 80 months behind bars.", "url": "https://www.cnn.com/2023/01/27/politics/sicknick-capitol-attack-khater-tanios-sentencing/index.html", "urlToImage": "https://media.cnn.com/api/v1/images/stellar/prod/230127121602-julian-khater-capitol-riot-bear-spray.jpg?c=16x9&q=w_800,c_fill", "publishedAt": "2023-01-28T00:31:00Z", "content": "A man who assaulted United States Capitol Police Officer Brian Sicknick with pepper spray on January 6, 2021, was sentenced on Friday to 80 months behind bars. \r\nJulian Khater pleaded guilty in Septe… [+4892 chars]" }, { "source": { "id": null, "name": "YouTube" }, "author": null, "title": "GoldenEye 007 Is Out, Xbox & Switch Differences Explained - IGN", "description": "After almost 25 years GoldenEye 007 is available on the Nintendo Switch and Xbox now! This should be good and fun for gamers who want to relive their bond da...", "url": "https://www.youtube.com/watch?v=MOcV725yQgE", "urlToImage": "https://i.ytimg.com/vi/MOcV725yQgE/maxres2.jpg?sqp=-oaymwEpCIAKENAF8quKqQMdGADwAQH4AbYIgAKAD4oCDQgAEAEYjAEgVCgVMA8=&rs=AOn4CLCmK4CdyoKZDVxlOCRllqjSX3dVoA", "publishedAt": "2023-01-28T00:30:08Z", "content": null }, { "source": { "id": "nfl-news", "name": "NFL News" }, "author": "Bucky Brooks", "title": "NFL Championship Sunday unit ranking: Top offense? Most imposing defense? Plus, 5 draft steals to watch - NFL.com", "description": "Just four teams remain in the NFL playoffs. How do they stack up against each other on each side of the ball? Bucky Brooks ranks the units, 1-8. Plus, five draft steals to watch on Championship Sunday.", "url": "https://www.nfl.com/news/nfl-championship-sunday-unit-ranking-top-offense-most-imposing-defense-plus-5-dr", "urlToImage": "https://static.www.nfl.com/image/private/t_editorial_landscape_12_desktop/league/kaksspekaqaoqhocpvcq", "publishedAt": "2023-01-28T00:28:00Z", "content": "It's no coincidence that 49ers defensive coordinator DeMeco Ryans is one of the hottest candidates in the 2023 head-coaching carousel. (In fact, NFL Network Insiders Ian Rapoport and Tom Pelissero re… [+1183 chars]" }, { "source": { "id": null, "name": "YouTube" }, "author": null, "title": "Priscilla Presley Challenges Lisa Marie Presley's Trust Amendment - Access Hollywood", "description": "Priscilla Presley is challenging an amendment made to Lisa Marie Presley’s trust. Priscilla has filed legal documents regarding an amendment made to her late...", "url": "https://www.youtube.com/watch?v=U69dOWpyVRw", "urlToImage": "https://i.ytimg.com/vi/U69dOWpyVRw/maxresdefault.jpg", "publishedAt": "2023-01-28T00:23:19Z", "content": null }, { "source": { "id": null, "name": "YouTube" }, "author": null, "title": "Brock Purdy on 'Embracing' the Challenges of Playing on the Road vs. Eagles | 49ers - San Francisco 49ers", "description": "#49ers #PressPass #SFvsPHIQB Brock Purdy detailed how he mentally prepares before games and shared his excitement to play in the NFC Championship Game in Phi...", "url": "https://www.youtube.com/watch?v=xh0pQgaWII8", "urlToImage": "https://i.ytimg.com/vi/xh0pQgaWII8/maxresdefault.jpg", "publishedAt": "2023-01-28T00:08:11Z", "content": null }, { "source": { "id": "reuters", "name": "Reuters" }, "author": null, "title": "Wall Street ends higher, notches weekly gains as Fed meeting looms - Reuters", "description": "Wall Street advanced on Friday, marking the end of an rocky week in which economic data and corporate earnings guidance hinted at softening demand but also economic resiliency ahead of next week's Federal Reserve monetary policy meeting.", "url": "https://www.reuters.com/markets/us/wall-st-set-subdued-open-intel-warning-hits-chip-stocks-2023-01-27/", "urlToImage": "https://www.reuters.com/resizer/pTSXoeZCxLlrGu9xAloDMsTrFpI=/1200x628/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/M6XTAZRYIJOBZDKLLGT7LNY7RI.jpg", "publishedAt": "2023-01-27T23:40:00Z", "content": "NEW YORK, Jan 27 (Reuters) - Wall Street advanced on Friday, marking the end of an rocky week in which economic data and corporate earnings guidance hinted at softening demand but also economic resil… [+3867 chars]" }, { "source": { "id": "fox-news", "name": "Fox News" }, "author": "Paul Steinhauser, Lee Ross", "title": "RNC's Ronna McDaniel declares 'this is my last term as chair' - Fox News", "description": "Republican National Committee chair Ronna McDaniel says that after winning a fourth term as chair of the GOP, there won’t be a fifth term in her future.", "url": "https://www.foxnews.com/politics/rncs-ronna-mcdaniel-declares-last-term-chair", "urlToImage": "https://static.foxnews.com/foxnews.com/content/uploads/2023/01/Ronna-McDaniel-RNC-winter-meeting-Dana-Point-CA-Jan.-27-2023.jpg", "publishedAt": "2023-01-27T23:39:00Z", "content": "DANA POINT, Calif. EXCLUSIVE Republican National Committee chair Ronna McDaniel says that after winning an unprecedented in modern times fourth term as chair of the GOP, there wont be a fifth term in… [+5158 chars]" }, { "source": { "id": null, "name": "Parade" }, "author": "Kaitlin Vogel", "title": "Here's What Actually Happens When You Stop Taking Ozempic - Yahoo Life", "description": "Doctors share exactly what happens when you stop taking Ozempic for weight loss, and how you can maintain your weight afterward.", "url": "https://parade.com/health/what-happens-when-stop-taking-ozempic", "urlToImage": "https://parade.com/.image/t_share/MTk1NDYwODIyNTU2NzQ3MzMz/what-happens-when-stop-taking-ozempic.jpg", "publishedAt": "2023-01-27T23:00:00Z", "content": "Ozempic has become well-known for its ability to promote weight loss, and a handful of celebrities are rumored to have tried it. Currently trending on social media, the hashtag \"Ozempic\" has been vie… [+4168 chars]" }, { "source": { "id": null, "name": "CBS Sports" }, "author": "", "title": "Chiefs, Bengals line continues to bounce for AFC title game: Why it's moved, and how history's on Cincy's side - CBS Sports", "description": "The Chiefs are now back to favorites, but the Bengals can't play the underdog card anymore", "url": "https://www.cbssports.com/nfl/news/chiefs-bengals-line-continues-to-bounce-for-afc-title-game-why-its-moved-and-how-historys-on-cincys-side/", "urlToImage": "https://sportshub.cbsistatic.com/i/r/2023/01/25/71e805ba-b800-439b-aece-d5c147491929/thumbnail/1200x675/7982db66b96b25b4c187da6634f99048/joe-burrow-patrick-mahomes.jpg", "publishedAt": "2023-01-27T22:42:00Z", "content": "There's something about the Chiefs' upcoming AFC Championship Game that is different from their previous four title-game matchups in their current run. The favored team each of the past four years, K… [+3349 chars]" }, { "source": { "id": null, "name": "Daily Mail" }, "author": "Stacy Liberatore", "title": "Blazing meteorites from the outer solar system triggered life on Earth 4.6 billion years ago - Daily Mail", "description": "This is the first evidence to show meteorites traveled from the outer solar system and collided with Earth, triggering life has been revealed in a new study that found these space rocks sparked life.", "url": "https://www.dailymail.co.uk/sciencetech/article-11685089/Blazing-meteorites-outer-solar-triggered-life-Earth-4-6-billion-years-ago.html", "urlToImage": "https://i.dailymail.co.uk/1s/2023/01/27/22/67056237-0-image-a-6_1674858493915.jpg", "publishedAt": "2023-01-27T22:33:01Z", "content": "Great balls of fire from the outer regions of the solar system brought the building blocks of life to Earth 4.6 billion years ago, a new study reveals.\r\nScientists at the Massachusetts Institute of T… [+2984 chars]" }, { "source": { "id": null, "name": "The Guardian" }, "author": "Helena Smith", "title": "Greek PM survives confidence vote but phone-tapping scandal rumbles on - The Guardian", "description": "Opposition leader Alexis Tsipras describes Kyriakos Mitsotakis as mastermind of ‘a criminal network’", "url": "https://www.theguardian.com/world/2023/jan/27/kyriakos-mitsotakis-greek-pm-survives-confidence-vote-but-phone-tapping-scandal-rumbles-on", "urlToImage": "https://i.guim.co.uk/img/media/a87c1f1fed2cb523f7a42153b58c3aa90e558689/0_9_3543_2126/master/3543.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=4ba360ccb72c271f11441d24396ee706", "publishedAt": "2023-01-27T22:27:00Z", "content": "Greeces prime minister, Kyriakos Mitsotakis, has survived a no-confidence vote over a phone-tapping scandal that has shocked the nation and sparked mounting concern in the EU.\r\nAfter three days of ra… [+5142 chars]" }, { "source": { "id": null, "name": "CNBC" }, "author": "Annie Palmer", "title": "Amazon to start charging delivery fees on Fresh grocery orders under $150 - CNBC", "description": "Amazon said it is adding fees to some orders so that it can keep prices low, according to a notice sent to customers.", "url": "https://www.cnbc.com/2023/01/27/amazon-to-charge-delivery-fees-on-fresh-grocery-orders-under-150.html", "urlToImage": "https://image.cnbcfm.com/api/v1/image/103643124-RTR4FM6X.jpg?v=1674856958&w=1920&h=1080", "publishedAt": "2023-01-27T22:02:38Z", "content": "Amazon will start charging delivery fees for Fresh grocery orders that are less than $150, in a move it said will help keep prices low on its services.\r\nBeginning Feb. 28, Prime members who want home… [+1444 chars]" }]
        setNews(articles)
    }

    useEffect(() => {
        getNews();
    }, []);

    // array for random color combinations for article cards //
    const colorCombo: colorCombo[] = [
        { backgroundColor: '#E9D758', color: '#000' },
        { backgroundColor: '#297373', color: '#fff' },
        { backgroundColor: '#FF8552', color: '#000' },
        { backgroundColor: '#BF8B85', color: '#fff' },
        { backgroundColor: '#5D5F71', color: '#fff' },
        { backgroundColor: '#934683', color: '#fff' },
        { backgroundColor: '#FCC8C2', color: '#000' },
        { backgroundColor: '#2B3A67', color: '#fff' },
        { backgroundColor: '#66999B', color: '#fff' },
        { backgroundColor: '#F9C784', color: '#000' },
        { backgroundColor: '#493843', color: '#fff' },
        { backgroundColor: '#61988E', color: '#fff' },
        { backgroundColor: '#A0B2A6', color: '#000' },
        { backgroundColor: '#101D42', color: '#fff' },
        { backgroundColor: '#0D1317', color: '#fff' },
        { backgroundColor: '#5A5353', color: '#fff' },
        { backgroundColor: '#A07178', color: '#fff' },
        { backgroundColor: '#FFFC99', color: '#000' },
        { backgroundColor: '#E6B89C', color: '#000' },
        { backgroundColor: '#9CAFB7', color: '#000' },
    ];

    return (
        <div id="news">
            {!loading ?
                news ?
                    news.map((n, index) => {
                        return (
                            <a className="article"
                                href={n.url}
                                target="_blank"
                                key={index}
                                style={{
                                    backgroundColor: colorCombo[index].backgroundColor,
                                    color: colorCombo[index].color
                                }} >
                                <div className="text">
                                    <div className="header">
                                        {n.source.name} • {moment(n.publishedAt).fromNow()}
                                    </div>
                                    <div className="title">
                                        {n.title}
                                    </div>
                                </div>
                                <img src={n.urlToImage} alt={n.source.id} />
                            </a>
                        );
                    })
                    : null
                : null
            }
        </div>
    )
}